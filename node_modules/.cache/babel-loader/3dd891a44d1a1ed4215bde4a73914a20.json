{"ast":null,"code":"import _regeneratorRuntime from\"/home/omkar/webdev/om/inshortsclone/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/omkar/webdev/om/inshortsclone/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/omkar/webdev/om/inshortsclone/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import\"./App.css\";import{useEffect,useState}from\"react\";import NavBar from\"./components/navbar\";import NewsContent from\"./components/newscontent\";import axios from\"axios\";import{apiKey}from\"./data/config\";import Footer from\"./components/Footer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(\"general\"),_useState2=_slicedToArray(_useState,2),category=_useState2[0],setCategory=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),newsArray=_useState4[0],setNewsArray=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),newsResults=_useState6[0],setNewsResults=_useState6[1];var _useState7=useState(20),_useState8=_slicedToArray(_useState7,2),loadMore=_useState8[0],setLoadMore=_useState8[1];console.log(category);var newsapi=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var news;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"https://newsapi.org/v2/top-headlines?country=in&apiKey=\".concat(apiKey,\"&category=\").concat(category,\"&pageSize=\").concat(loadMore));case 3:news=_context.sent;// console.log(news);\nsetNewsArray(news.data.articles);setNewsResults(news.data.totalResults);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function newsapi(){return _ref.apply(this,arguments);};}();// console.log(newsArray);\nuseEffect(function(){newsapi();},[newsResults,category,loadMore]);return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(NavBar,{setCategory:setCategory}),/*#__PURE__*/_jsx(NewsContent,{newsArray:newsArray,newsResults:newsResults,loadMore:loadMore,setLoadMore:setLoadMore}),/*#__PURE__*/_jsx(Footer,{})]});}export default App;","map":{"version":3,"sources":["/home/omkar/webdev/om/inshortsclone/src/App.js"],"names":["useEffect","useState","NavBar","NewsContent","axios","apiKey","Footer","App","category","setCategory","newsArray","setNewsArray","newsResults","setNewsResults","loadMore","setLoadMore","console","log","newsapi","get","news","data","articles","totalResults"],"mappings":"+VAAA,MAAO,WAAP,CACA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,WAAP,KAAwB,0BAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,MAAT,KAAuB,eAAvB,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,C,wFAEA,QAASC,CAAAA,GAAT,EAAe,CACb,cAAgCN,QAAQ,CAAC,SAAD,CAAxC,wCAAOO,QAAP,eAAiBC,WAAjB,eACA,eAAkCR,QAAQ,CAAC,EAAD,CAA1C,yCAAOS,SAAP,eAAkBC,YAAlB,eACA,eAAsCV,QAAQ,EAA9C,yCAAOW,WAAP,eAAoBC,cAApB,eACA,eAAgCZ,QAAQ,CAAC,EAAD,CAAxC,yCAAOa,QAAP,eAAiBC,WAAjB,eACAC,OAAO,CAACC,GAAR,CAAYT,QAAZ,EAEA,GAAMU,CAAAA,OAAO,0FAAG,kLAEOd,CAAAA,KAAK,CAACe,GAAN,kEACyCd,MADzC,sBAC4DG,QAD5D,sBACiFM,QADjF,EAFP,QAENM,IAFM,eAKZ;AACAT,YAAY,CAACS,IAAI,CAACC,IAAL,CAAUC,QAAX,CAAZ,CACAT,cAAc,CAACO,IAAI,CAACC,IAAL,CAAUE,YAAX,CAAd,CAPY,+EASZP,OAAO,CAACC,GAAR,cATY,oEAAH,kBAAPC,CAAAA,OAAO,0CAAb,CAaA;AAEAlB,SAAS,CAAC,UAAM,CACdkB,OAAO,GACR,CAFQ,CAEN,CAACN,WAAD,CAAcJ,QAAd,CAAwBM,QAAxB,CAFM,CAAT,CAIA,mBACE,aAAK,SAAS,CAAC,KAAf,wBACE,KAAC,MAAD,EAAQ,WAAW,CAAEL,WAArB,EADF,cAEE,KAAC,WAAD,EACE,SAAS,CAAEC,SADb,CAEE,WAAW,CAAEE,WAFf,CAGE,QAAQ,CAAEE,QAHZ,CAIE,WAAW,CAAEC,WAJf,EAFF,cAQE,KAAC,MAAD,IARF,GADF,CAYD,CAED,cAAeR,CAAAA,GAAf","sourcesContent":["import \"./App.css\";\nimport { useEffect, useState } from \"react\";\nimport NavBar from \"./components/navbar\";\nimport NewsContent from \"./components/newscontent\";\nimport axios from \"axios\";\nimport { apiKey } from \"./data/config\";\nimport Footer from \"./components/Footer\";\n\nfunction App() {\n  const [category, setCategory] = useState(\"general\");\n  const [newsArray, setNewsArray] = useState([]);\n  const [newsResults, setNewsResults] = useState();\n  const [loadMore, setLoadMore] = useState(20);\n  console.log(category);\n\n  const newsapi = async () => {\n    try {\n      const news = await axios.get(\n        `https://newsapi.org/v2/top-headlines?country=in&apiKey=${apiKey}&category=${category}&pageSize=${loadMore}`\n      );\n      // console.log(news);\n      setNewsArray(news.data.articles);\n      setNewsResults(news.data.totalResults);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  // console.log(newsArray);\n\n  useEffect(() => {\n    newsapi();\n  }, [newsResults, category, loadMore]);\n\n  return (\n    <div className=\"App\">\n      <NavBar setCategory={setCategory} />\n      <NewsContent\n        newsArray={newsArray}\n        newsResults={newsResults}\n        loadMore={loadMore}\n        setLoadMore={setLoadMore}\n      />\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}